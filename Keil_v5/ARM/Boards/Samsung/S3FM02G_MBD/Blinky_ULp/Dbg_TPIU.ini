/*******************************************************************************/
/* Dbg_TPIU.ini: Initialization Script for Debugging with ETM Trace */
/*******************************************************************************/
/* This file is part of the uVision/ARM development tools.                     */
/* Copyright (c) 2011 Keil Software. All rights reserved.                      */
/* This software may only be used under the terms of a valid, current,         */
/* end user licence from KEIL for a compatible version of KEIL software        */
/* development tools. Nothing else gives you the right to use this software.   */
/*******************************************************************************/


FUNC void TPIU_Setup (void) {        // Trace port Initialization
  _WDWORD(0x40020010, 0x40000000);   // IO Block Clock Enable
  _WDWORD(0x40058030, 0x00055555);   // Set GPIO as TRACE functionality: P3.0 - P3.9 
}

// Executed after reset via uVision's 'Reset'-button
FUNC void OnResetExec (void) {
  TPIU_Setup();
}

load %L incremental

TPIU_Setup();
g, main
