/*----------------------------------------------------------------------------
 * Name:    Dbg_SWO.ini
 * Purpose: Debug SWO initialization file
 * Note(s):
 *----------------------------------------------------------------------------
 * This file is part of the uVision/ARM development tools.
 * This software may only be used under the terms of a valid, current,
 * end user licence from KEIL for a compatible version of KEIL software
 * development tools. Nothing else gives you the right to use this software.
 *
 * This software is supplied "AS IS" without warranties of any kind.
 *
 * Copyright (c) 2008-2013 Keil - An ARM Company. All rights reserved.
 *----------------------------------------------------------------------------*/

FUNC void DebugSetup (void) {
_WDWORD(0x400740D8, 0x00000001);    // set TRACECLKDIV (ARM trace clock divider) 

_WDWORD(0x400740C4, _RDWORD(0x400740C4) | 0x00001000); // enable clock for switch matrix
_WDWORD(0x4003803C, 0x000008FF);   // assign P0.8 for SWO 
}

// Executed after reset via uVision's 'Reset'-button
FUNC void OnResetExec (void) {
  DebugSetup();
}

DebugSetup();                       // Debugger Setup

