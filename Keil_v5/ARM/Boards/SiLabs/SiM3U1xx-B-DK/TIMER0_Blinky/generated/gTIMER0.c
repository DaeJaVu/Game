//-------------------------------------------------------------------------------
// Copyright (c) 2012 by Silicon Laboratories
// All rights reserved. This program and the accompanying materials
// are made available under the terms of the Silicon Laboratories End User
// License Agreement which accompanies this distribution, and is available at
// http://developer.silabs.com/legal/version/v10/License_Agreement_v10.htm
//
//
// Original content and implementation provided by Silicon Laboratories
//-------------------------------------------------------------------------------

//==============================================================================
// WARNING:
//
// This file is auto-generated by AppBuilder and should not be modified.
// Any hand modifications will be lost if the project is regenerated.
//==============================================================================

#include "gTIMER0.h"

// Include peripheral access modules used in this file
#include <SI32_TIMER_A_Type.h>
#include <si32_device.h>

//==============================================================================
// 2nd Level Interrupt Handlers
//==============================================================================
extern void TIMER0H_high_overflow_handler(void);

//==============================================================================
// 1st Level Interrupt Handlers
//==============================================================================
void TIMER0H_IRQHandler()
{
  if (SI32_TIMER_A_is_high_overflow_interrupt_pending(SI32_TIMER_0))
  {
    TIMER0H_high_overflow_handler();
  }
}

//==============================================================================
// Configuration Functions
//==============================================================================
void TIMER0_enter_default_mode_from_reset(void)
{
  SI32_TIMER_A_set_high_count(SI32_TIMER_0, 15536);
  SI32_TIMER_A_select_split_timer_mode(SI32_TIMER_0);
  SI32_TIMER_A_set_clock_divider_counter(SI32_TIMER_0, 216);
  SI32_TIMER_A_set_clock_divider_reload(SI32_TIMER_0, 216);
  SI32_TIMER_A_select_high_clock_source_timer_clock_divider(SI32_TIMER_0);
  SI32_TIMER_A_set_high_reload(SI32_TIMER_0, 15536);
  SI32_TIMER_A_start_high_timer(SI32_TIMER_0);
  SI32_TIMER_A_enable_high_overflow_interrupt(SI32_TIMER_0);
  NVIC_ClearPendingIRQ(TIMER0H_IRQn);
  NVIC_EnableIRQ(TIMER0H_IRQn);
}

