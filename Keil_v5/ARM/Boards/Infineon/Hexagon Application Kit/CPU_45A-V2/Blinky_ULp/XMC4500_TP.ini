/*----------------------------------------------------------------------------
 * Name:    XMC4500_TP.ini
 * Purpose: Trace Port Initialization File
 * Note(s):
 *----------------------------------------------------------------------------
 * This file is part of the uVision/ARM development tools.
 * This software may only be used under the terms of a valid, current,
 * end user licence from KEIL for a compatible version of KEIL software
 * development tools. Nothing else gives you the right to use this software.
 *
 * This software is supplied "AS IS" without warranties of any kind.
 *
 * Copyright (c) 2012 Keil - An ARM Company. All rights reserved.
 *----------------------------------------------------------------------------*/

/*----------------------------------------------------------------------------
  Setup_TP()  configures synchronous 4bit Trace Interface
 *----------------------------------------------------------------------------*/
FUNC void Setup_TP (void) {
  _WDWORD(0x48028274, 0x00400004);  // P2_HWSEL
  _WDWORD(0x48028674, 0x00001405);  // P6_HWSEL

  _WDWORD(0x48028640, 0x20022200);  // P6_PDR0  "strong sharp"
  _WDWORD(0x48028240, 0x22222202);  // P2_PDR0  "strong sharp"
  _WDWORD(0x48028244, 0x22220222);  // P2_PDR1  "strong sharp"
}

/*----------------------------------------------------------------------------
  TRACECLK        P6.0   HWO0
  TRACEDATA0      P6.6   HWO0
  TRACEDATA1      P6.5   HWO0
  TRACEDATA2      P2.11  HWO0
  TRACEDATA3      P6.1   HWO0
  TRACESWO        P2.1   HWO0
 *----------------------------------------------------------------------------*/

// Executed after reset via uVision's 'Reset'-button
FUNC void OnResetExec (void) {
  Setup_TP();
}

Setup_TP();                         // TracePort Setup
